{"version":3,"sources":["viewer_compatibility.js"],"names":["define","PDFJSDev","compatibilityParams","Object","create","test","userAgent","navigator","platform","maxTouchPoints","isAndroid","isIOS","disableCreateObjectURL","maxCanvasPixels","viewerCompatibilityParams","freeze"],"mappings":";;;;;;;AAAAA,QACE,eACA,SAASC,GAgBT,MAAMC,EAAsBC,OAAOC,OAAO,MAC1C,QAAwB,IAAbH,GAA4BA,EAASI,KAAK,WAAY,CAC/D,MAAMC,EACkB,oBAAdC,WAA6BA,UAAUD,WAAc,GACzDE,EACkB,oBAAdD,WAA6BA,UAAUC,UAAa,GACxDC,EACkB,oBAAdF,WAA6BA,UAAUE,gBAAmB,EAE9DC,EAAY,UAAUL,KAAKC,GAC3BK,EACJ,4BAA4BN,KAAKC,IACnB,aAAbE,GAA2BC,EAAiB,EAC3B,QAAQJ,KAAKC,KAQ7BJ,EAAoBU,wBAAyB,IAO3CD,GAASD,KACXR,EAAoBW,gBAAkB,SAM5C,OAASC,0BAFyBX,OAAOY,OAAOb","file":"../viewer_compatibility.js","sourcesContent":["define([\n  \"./pdfjs_dev\"\n],function(PDFJSDev){\n  /* Copyright 2018 Mozilla Foundation\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  const compatibilityParams = Object.create(null);\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n    const userAgent =\n      (typeof navigator !== \"undefined\" && navigator.userAgent) || \"\";\n    const platform =\n      (typeof navigator !== \"undefined\" && navigator.platform) || \"\";\n    const maxTouchPoints =\n      (typeof navigator !== \"undefined\" && navigator.maxTouchPoints) || 1;\n\n    const isAndroid = /Android/.test(userAgent);\n    const isIOS =\n      /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) ||\n      (platform === \"MacIntel\" && maxTouchPoints > 1);\n    const isIOSChrome = /CriOS/.test(userAgent);\n\n    // Checks if possible to use URL.createObjectURL()\n    // Support: IE, Chrome on iOS\n    (function checkOnBlobSupport() {\n      // Sometimes Chrome on iOS loses data created with createObjectURL(),\n      // see issue #8081.\n      if (isIOSChrome) {\n        compatibilityParams.disableCreateObjectURL = true;\n      }\n    })();\n\n    // Limit canvas size to 5 mega-pixels on mobile.\n    // Support: Android, iOS\n    (function checkCanvasSizeLimitation() {\n      if (isIOS || isAndroid) {\n        compatibilityParams.maxCanvasPixels = 5242880;\n      }\n    })();\n  }\n  const viewerCompatibilityParams = Object.freeze(compatibilityParams);\n\n  return { viewerCompatibilityParams };\n});"]}