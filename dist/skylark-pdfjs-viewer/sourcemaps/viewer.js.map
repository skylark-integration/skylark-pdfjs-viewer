{"version":3,"sources":["viewer.js"],"names":["define","PDFJSDev","app_options","app","AppOptions","PDFViewerApplication","eval","defaultUrl","window","PDFViewerApplicationOptions","test","queryString","document","location","search","slice","m","exec","humanReadableUrl","decodeURIComponent","hash","history","replaceState","state","top","chrome","runtime","sendMessage","webViewerLoad","config","appContainer","body","mainContainer","getElementById","viewerContainer","eventBus","toolbar","container","numPages","pageNumber","scaleSelectContainer","scaleSelect","customScaleOption","previous","next","zoomIn","zoomOut","viewFind","openFile","print","presentationModeButton","download","viewBookmark","secondaryToolbar","toggleButton","toolbarButtonContainer","openFileButton","printButton","downloadButton","viewBookmarkButton","firstPageButton","lastPageButton","pageRotateCwButton","pageRotateCcwButton","cursorSelectToolButton","cursorHandToolButton","scrollVerticalButton","scrollHorizontalButton","scrollWrappedButton","spreadNoneButton","spreadOddButton","spreadEvenButton","documentPropertiesButton","fullscreen","contextFirstPage","contextLastPage","contextPageRotateCw","contextPageRotateCcw","sidebar","outerContainer","thumbnailButton","outlineButton","attachmentsButton","layersButton","thumbnailView","outlineView","attachmentsView","layersView","outlineOptionsContainer","currentOutlineItemButton","sidebarResizer","resizer","findBar","bar","findField","highlightAllCheckbox","caseSensitiveCheckbox","entireWordCheckbox","findMsg","findResultsCount","findPreviousButton","findNextButton","passwordOverlay","overlayName","label","input","submitButton","cancelButton","documentProperties","closeButton","fields","fileName","fileSize","title","author","subject","keywords","creationDate","modificationDate","creator","producer","version","pageCount","pageSize","linearized","errorWrapper","errorMessage","errorMoreInfo","moreInfoButton","lessInfoButton","printContainer","openFileInputName","debuggerScriptPath","set","event","createEvent","initCustomEvent","source","parent","dispatchEvent","ex","console","error","run","init","readyState","addEventListener"],"mappings":"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","file":"../viewer.js","sourcesContent":["define([\n  \"./pdfjs_dev\",\n  \"./app_options\",\n  \"./app\",\n  \"./genericcom\",\n  \"./pdf_print_service\"\n],function(\n  PDFJSDev,\n  app_options,\n  app\n){\n  /* Copyright 2016 Mozilla Foundation\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  const { AppOptions } = app_options;\n  const { PDFViewerApplication } = app;\n\n  /* eslint-disable-next-line no-unused-vars */\n  const pdfjsVersion =\n    typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\n  /* eslint-disable-next-line no-unused-vars */\n  const pdfjsBuild =\n    typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\n  window.PDFViewerApplication = PDFViewerApplication;\n  window.PDFViewerApplicationOptions = AppOptions;\n\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"CHROME\")) {\n    var defaultUrl; // eslint-disable-line no-var\n\n    (function rewriteUrlClosure() {\n      // Run this code outside DOMContentLoaded to make sure that the URL\n      // is rewritten as soon as possible.\n      const queryString = document.location.search.slice(1);\n      const m = /(^|&)file=([^&]*)/.exec(queryString);\n      defaultUrl = m ? decodeURIComponent(m[2]) : \"\";\n\n      // Example: chrome-extension://.../http://example.com/file.pdf\n      const humanReadableUrl = \"/\" + defaultUrl + location.hash;\n      history.replaceState(history.state, \"\", humanReadableUrl);\n      if (top === window) {\n        // eslint-disable-next-line no-undef\n        chrome.runtime.sendMessage(\"showPageAction\");\n      }\n    })();\n  }\n\n  //TODO : checking\n  ///if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  ///  require(\"./firefoxcom.js\");\n  ///  require(\"./firefox_print_service.js\");\n  ///}\n  ///if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n  ///  require(\"./genericcom.js\");\n  ///}\n  ///if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"CHROME\")) {\n  ///  require(\"./chromecom.js\");\n  ///}\n  ///if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"CHROME || GENERIC\")) {\n  ///  require(\"./pdf_print_service.js\");\n  ///}\n\n  function getViewerConfiguration() {\n    return {\n      appContainer: document.body,\n      mainContainer: document.getElementById(\"viewerContainer\"),\n      viewerContainer: document.getElementById(\"viewer\"),\n      eventBus: null,\n      toolbar: {\n        container: document.getElementById(\"toolbarViewer\"),\n        numPages: document.getElementById(\"numPages\"),\n        pageNumber: document.getElementById(\"pageNumber\"),\n        scaleSelectContainer: document.getElementById(\"scaleSelectContainer\"),\n        scaleSelect: document.getElementById(\"scaleSelect\"),\n        customScaleOption: document.getElementById(\"customScaleOption\"),\n        previous: document.getElementById(\"previous\"),\n        next: document.getElementById(\"next\"),\n        zoomIn: document.getElementById(\"zoomIn\"),\n        zoomOut: document.getElementById(\"zoomOut\"),\n        viewFind: document.getElementById(\"viewFind\"),\n        openFile: document.getElementById(\"openFile\"),\n        print: document.getElementById(\"print\"),\n        presentationModeButton: document.getElementById(\"presentationMode\"),\n        download: document.getElementById(\"download\"),\n        viewBookmark: document.getElementById(\"viewBookmark\"),\n      },\n      secondaryToolbar: {\n        toolbar: document.getElementById(\"secondaryToolbar\"),\n        toggleButton: document.getElementById(\"secondaryToolbarToggle\"),\n        toolbarButtonContainer: document.getElementById(\n          \"secondaryToolbarButtonContainer\"\n        ),\n        presentationModeButton: document.getElementById(\n          \"secondaryPresentationMode\"\n        ),\n        openFileButton: document.getElementById(\"secondaryOpenFile\"),\n        printButton: document.getElementById(\"secondaryPrint\"),\n        downloadButton: document.getElementById(\"secondaryDownload\"),\n        viewBookmarkButton: document.getElementById(\"secondaryViewBookmark\"),\n        firstPageButton: document.getElementById(\"firstPage\"),\n        lastPageButton: document.getElementById(\"lastPage\"),\n        pageRotateCwButton: document.getElementById(\"pageRotateCw\"),\n        pageRotateCcwButton: document.getElementById(\"pageRotateCcw\"),\n        cursorSelectToolButton: document.getElementById(\"cursorSelectTool\"),\n        cursorHandToolButton: document.getElementById(\"cursorHandTool\"),\n        scrollVerticalButton: document.getElementById(\"scrollVertical\"),\n        scrollHorizontalButton: document.getElementById(\"scrollHorizontal\"),\n        scrollWrappedButton: document.getElementById(\"scrollWrapped\"),\n        spreadNoneButton: document.getElementById(\"spreadNone\"),\n        spreadOddButton: document.getElementById(\"spreadOdd\"),\n        spreadEvenButton: document.getElementById(\"spreadEven\"),\n        documentPropertiesButton: document.getElementById(\"documentProperties\"),\n      },\n      fullscreen: {\n        contextFirstPage: document.getElementById(\"contextFirstPage\"),\n        contextLastPage: document.getElementById(\"contextLastPage\"),\n        contextPageRotateCw: document.getElementById(\"contextPageRotateCw\"),\n        contextPageRotateCcw: document.getElementById(\"contextPageRotateCcw\"),\n      },\n      sidebar: {\n        // Divs (and sidebar button)\n        outerContainer: document.getElementById(\"outerContainer\"),\n        viewerContainer: document.getElementById(\"viewerContainer\"),\n        toggleButton: document.getElementById(\"sidebarToggle\"),\n        // Buttons\n        thumbnailButton: document.getElementById(\"viewThumbnail\"),\n        outlineButton: document.getElementById(\"viewOutline\"),\n        attachmentsButton: document.getElementById(\"viewAttachments\"),\n        layersButton: document.getElementById(\"viewLayers\"),\n        // Views\n        thumbnailView: document.getElementById(\"thumbnailView\"),\n        outlineView: document.getElementById(\"outlineView\"),\n        attachmentsView: document.getElementById(\"attachmentsView\"),\n        layersView: document.getElementById(\"layersView\"),\n        // View-specific options\n        outlineOptionsContainer: document.getElementById(\n          \"outlineOptionsContainer\"\n        ),\n        currentOutlineItemButton: document.getElementById(\"currentOutlineItem\"),\n      },\n      sidebarResizer: {\n        outerContainer: document.getElementById(\"outerContainer\"),\n        resizer: document.getElementById(\"sidebarResizer\"),\n      },\n      findBar: {\n        bar: document.getElementById(\"findbar\"),\n        toggleButton: document.getElementById(\"viewFind\"),\n        findField: document.getElementById(\"findInput\"),\n        highlightAllCheckbox: document.getElementById(\"findHighlightAll\"),\n        caseSensitiveCheckbox: document.getElementById(\"findMatchCase\"),\n        entireWordCheckbox: document.getElementById(\"findEntireWord\"),\n        findMsg: document.getElementById(\"findMsg\"),\n        findResultsCount: document.getElementById(\"findResultsCount\"),\n        findPreviousButton: document.getElementById(\"findPrevious\"),\n        findNextButton: document.getElementById(\"findNext\"),\n      },\n      passwordOverlay: {\n        overlayName: \"passwordOverlay\",\n        container: document.getElementById(\"passwordOverlay\"),\n        label: document.getElementById(\"passwordText\"),\n        input: document.getElementById(\"password\"),\n        submitButton: document.getElementById(\"passwordSubmit\"),\n        cancelButton: document.getElementById(\"passwordCancel\"),\n      },\n      documentProperties: {\n        overlayName: \"documentPropertiesOverlay\",\n        container: document.getElementById(\"documentPropertiesOverlay\"),\n        closeButton: document.getElementById(\"documentPropertiesClose\"),\n        fields: {\n          fileName: document.getElementById(\"fileNameField\"),\n          fileSize: document.getElementById(\"fileSizeField\"),\n          title: document.getElementById(\"titleField\"),\n          author: document.getElementById(\"authorField\"),\n          subject: document.getElementById(\"subjectField\"),\n          keywords: document.getElementById(\"keywordsField\"),\n          creationDate: document.getElementById(\"creationDateField\"),\n          modificationDate: document.getElementById(\"modificationDateField\"),\n          creator: document.getElementById(\"creatorField\"),\n          producer: document.getElementById(\"producerField\"),\n          version: document.getElementById(\"versionField\"),\n          pageCount: document.getElementById(\"pageCountField\"),\n          pageSize: document.getElementById(\"pageSizeField\"),\n          linearized: document.getElementById(\"linearizedField\"),\n        },\n      },\n      errorWrapper: {\n        container: document.getElementById(\"errorWrapper\"),\n        errorMessage: document.getElementById(\"errorMessage\"),\n        closeButton: document.getElementById(\"errorClose\"),\n        errorMoreInfo: document.getElementById(\"errorMoreInfo\"),\n        moreInfoButton: document.getElementById(\"errorShowMore\"),\n        lessInfoButton: document.getElementById(\"errorShowLess\"),\n      },\n      printContainer: document.getElementById(\"printContainer\"),\n      openFileInputName: \"fileInput\",\n      debuggerScriptPath: \"./debugger.js\",\n    };\n  }\n\n  function webViewerLoad() {\n    const config = getViewerConfiguration();\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n        PDFViewerApplication.run(config);\n    } else {\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"CHROME\")) {\n        AppOptions.set(\"defaultUrl\", defaultUrl);\n      }\n\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n        // Give custom implementations of the default viewer a simpler way to\n        // set various `AppOptions`, by dispatching an event once all viewer\n        // files are loaded but *before* the viewer initialization has run.\n        const event = document.createEvent(\"CustomEvent\");\n        event.initCustomEvent(\"webviewerloaded\", true, true, {\n          source: window,\n        });\n        try {\n          // Attempt to dispatch the event at the embedding `document`,\n          // in order to support cases where the viewer is embedded in\n          // a *dynamically* created <iframe> element.\n          parent.document.dispatchEvent(event);\n        } catch (ex) {\n          // The viewer could be in e.g. a cross-origin <iframe> element,\n          // fallback to dispatching the event at the current `document`.\n          console.error(`webviewerloaded: ${ex}`);\n          document.dispatchEvent(event);\n        }\n      }\n\n      PDFViewerApplication.run(config);\n    }\n  }\n\n\n  function init() {\n    if (\n      document.readyState === \"interactive\" ||\n      document.readyState === \"complete\"\n    ) {\n      webViewerLoad();\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", webViewerLoad, true);\n    }    \n  }\n\n\n  return { \n    init,\n    PDFViewerApplication, \n    PDFViewerApplicationOptions : AppOptions  \n  };\n});"]}