{"version":3,"sources":["genericcom.js"],"names":["define","PDFJSDev","app","preferences","download_manager","genericl10n","generic_scripting","DefaultExternalServices","PDFViewerApplication","BasePreferences","DownloadManager","GenericL10n","GenericScripting","test","Error","GenericPreferences","[object Object]","prefObj","localStorage","setItem","JSON","stringify","parse","getItem","externalServices","options","locale","sandboxBundleSrc","GenericCom"],"mappings":";;;;;;;AAAAA,QACE,cACA,QACA,gBACA,qBACA,gBACA,uBACA,SACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAiBA,MAAMC,wBAAEA,EAAuBC,qBAAEA,GAAyBN,GACpDO,gBAAEA,GAAoBN,GACtBO,gBAAEA,GAAoBN,GACtBO,YAAEA,GAAgBN,GAClBO,iBAAEA,GAAqBN,EAE7B,QAAwB,IAAbL,IAA6BA,EAASY,KAAK,WACpD,MAAM,IAAIC,MACR,gFAOEC,UAA2BN,EAC/BO,sBAAsBC,GACpBC,aAAaC,QAAQ,oBAAqBC,KAAKC,UAAUJ,IAG3DD,uBAAuBC,GACrB,OAAOG,KAAKE,MAAMJ,aAAaK,QAAQ,uBAuB3C,OAFAf,EAAqBgB,+BAjBiBjB,EACpCS,6BAA6BS,GAC3B,OAAO,IAAIf,EAGbM,2BACE,OAAO,IAAID,EAGbC,mBAAkBU,OAAEA,EAAS,UAC3B,OAAO,IAAIf,EAAYe,GAGzBV,wBAAuBW,iBAAEA,IACvB,OAAO,IAAIf,EAAiBe,MAKvBC","file":"../genericcom.js","sourcesContent":["define([\n  \"./pdfjs_dev\",\n  \"./app\",\n  \"./preferences\",\n  \"./download_manager\",\n  \"./genericl10n\",\n  \"./generic_scripting\"\n],function(\n  PDFJSDev,\n  app,\n  preferences,\n  download_manager,\n  genericl10n,\n  generic_scripting\n){\n  /* Copyright 2017 Mozilla Foundation\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  const { DefaultExternalServices, PDFViewerApplication } = app;\n  const { BasePreferences } = preferences;\n  const { DownloadManager } = download_manager;\n  const { GenericL10n } = genericl10n;\n  const { GenericScripting } = generic_scripting;\n\n  if (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"GENERIC\")) {\n    throw new Error(\n      'Module \"pdfjs-web/genericcom\" shall not be used outside ' +\n        \"GENERIC build.\"\n    );\n  }\n\n  const GenericCom = {};\n\n  class GenericPreferences extends BasePreferences {\n    async _writeToStorage(prefObj) {\n      localStorage.setItem(\"pdfjs.preferences\", JSON.stringify(prefObj));\n    }\n\n    async _readFromStorage(prefObj) {\n      return JSON.parse(localStorage.getItem(\"pdfjs.preferences\"));\n    }\n  }\n\n  class GenericExternalServices extends DefaultExternalServices {\n    static createDownloadManager(options) {\n      return new DownloadManager();\n    }\n\n    static createPreferences() {\n      return new GenericPreferences();\n    }\n\n    static createL10n({ locale = \"en-US\" }) {\n      return new GenericL10n(locale);\n    }\n\n    static createScripting({ sandboxBundleSrc }) {\n      return new GenericScripting(sandboxBundleSrc);\n    }\n  }\n  PDFViewerApplication.externalServices = GenericExternalServices;\n\n  return { GenericCom };\n});"]}