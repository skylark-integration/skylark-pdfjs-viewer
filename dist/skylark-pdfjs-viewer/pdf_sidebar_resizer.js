/**
 * skylark-pdfjs-viewer - A version of video.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./ui_utils"],function(t){const{NullL10n:e}=t,i="--sidebar-width",s=200,n="sidebarResizing";return{PDFSidebarResizer:class{constructor(t,i,s=e){this.isRTL=!1,this.sidebarOpen=!1,this.doc=document.documentElement,this._width=null,this._outerContainerWidth=null,this._boundEvents=Object.create(null),this.outerContainer=t.outerContainer,this.resizer=t.resizer,this.eventBus=i,s.getDirection().then(t=>{this.isRTL="rtl"===t}),this._addEventListeners()}get outerContainerWidth(){return this._outerContainerWidth||(this._outerContainerWidth=this.outerContainer.clientWidth),this._outerContainerWidth}_updateWidth(t=0){const e=Math.floor(this.outerContainerWidth/2);return t>e&&(t=e),t<s&&(t=s),t!==this._width&&(this._width=t,this.doc.style.setProperty(i,`${t}px`),!0)}_mouseMove(t){let e=t.clientX;this.isRTL&&(e=this.outerContainerWidth-e),this._updateWidth(e)}_mouseUp(t){this.outerContainer.classList.remove(n),this.eventBus.dispatch("resize",{source:this});const e=this._boundEvents;window.removeEventListener("mousemove",e.mouseMove),window.removeEventListener("mouseup",e.mouseUp)}_addEventListeners(){const t=this._boundEvents;t.mouseMove=this._mouseMove.bind(this),t.mouseUp=this._mouseUp.bind(this),this.resizer.addEventListener("mousedown",e=>{0===e.button&&(this.outerContainer.classList.add(n),window.addEventListener("mousemove",t.mouseMove),window.addEventListener("mouseup",t.mouseUp))}),this.eventBus._on("sidebarviewchanged",t=>{this.sidebarOpen=!(!t||!t.view)}),this.eventBus._on("resize",t=>{if(!t||t.source!==window)return;if(this._outerContainerWidth=null,!this._width)return;if(!this.sidebarOpen)return void this._updateWidth(this._width);this.outerContainer.classList.add(n);const e=this._updateWidth(this._width);Promise.resolve().then(()=>{this.outerContainer.classList.remove(n),e&&this.eventBus.dispatch("resize",{source:this})})})}}}});
//# sourceMappingURL=sourcemaps/pdf_sidebar_resizer.js.map
